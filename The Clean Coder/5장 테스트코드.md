# 테스트 주도 개발

## 배심원 등장

> 작성한 코드가 전부 잘 돌아가는지 알지 못한다면 어찌 프로라 말할 수 있겠나?변경할 때마다 테스트하지 않는다면 코드가 전부 잘 돌아가는지 어찌 알까?

"항상 강조하는 말..! 나는 프로인가? 라는 생각이 들었습니다."

## 용기

> 왜 나쁜 코드를 봐도 고치지 않을까? 지저분한 함수를 본 첫 번째 반응은 "지저분하군. 정리 좀 해야겠네."다. 두 번째 반응은 "난 안건드릴 거야!" 다.왜 이럴까? 손을 대면 뭔가 망가뜨릴지도 모른다는 위험을 무릅써야 한다는 사실을 알기 때문이다. 뭔가가 망가지면 자신이 감당해야 한다.

"잘 돌아가는 코드를 수정해서 오류가 나면 어쩌지? 라는 고민을 많이 하는 거 같아요. 저는 그럴 때 마다 테스트 코드가 있는지 체크하고 없으면 수정해야 되는 범위에 테스트 코드를 만들고 수정했던 기억이 나네요."

> 두렵지 않은 프로그래머는 코드를 바로 정리한다! 깔끔한 코드는 이해하기 쉽고 바꾸기도 쉬우며 확장하기도 쉽다.

"두렵지 않기 위해서는 커버리지를 위한 테스트 코드가 아닌 진짜! 테스트코드가 필요하다라고 생각했습니다.  그러기 위해선 테스트를 쉽게 할 수 있는 환경과 구성원들 간의 동의가 필요할 거 같아요."

## 문서화

> 단위 테스트는 시스템의 모든 함수를 유용하게 호출하는 모든 방법을 알려준다.어떤 일을 처리하는 법을 알고 싶다면 해당되는 단위 테스트를 찾아 세부사항을 보면 된다.단위 테스트는 문서다. 시스템의 가장 낮은 단계의 설계를 알려준다.

“단위 테스트는 문서다라는 말이 어떤 것일까 생각 해보다가 실제로 걱정?거리들을 테스트코드에 담게 되면 코드베이스의 세부사항이 담긴 문서가 될 수도 있겠구나라고 생각했습니다”

“또한 책에서 말하는 TDD를 하면 더욱 많은 테스트 코드가 생길 것이고 잘 작성된 테스트 코드는 세부사항이 담긴 하나의 문서가 될 수 있다고 생각했습니다. 하지만 그만큼 테스트 코드 또한 가독성있게 만들어야 되지 않을까? 라고 생각했습니다(kotest 만세).

## 설계

> 테스트를 먼저 만들기 위해서는 좋은 설계를 고민해야 한다.테스트를 먼저 만들지 않으면 여러 함수를 테스트 불가능한 덩어리로 뭉치는 일을 막아줄 방어막이 사라진다.테스트를 나중에 만들면 전체 덩어리의 입력과 출력은 테스트할지 몰라도 각각의 함수를 테스트하기는 힘들 것이다.

"실제로 많이 경험하는 거 같습니다. 테스트 코드를 만들기 귀찮아서 진행하다가 결국 나중에 테스트 코드를 만드려는데 테스트 코드를 만들기 쉽지 않았던 경우가 많은 거 같아요. 결국에 입력, 출력 테스트만 만들었던 기억이 지나갑니다."

책에서는 테스트 코드를 엄청 강조하는 거 같아서(물론 챕터가 테스트 코드이니!)… 테스트 코드도 정말 중요하지만 코드를 가독성 있게 만들고, 예측 가능하게 만드는 부분도 정말 중요한 거 같아요.

테스트로만 보증하기 충분하지 않은 이유
- 어떤 개발자들은 테스트에 대해 그다지 부지런하지 않을 수도 있다.
- 테스트가 항상 실제 상황을 정확하게 시뮬레이션 하는 것은 아니다.
- 어떤 것들은 테스트하기가 매우 어렵다.
