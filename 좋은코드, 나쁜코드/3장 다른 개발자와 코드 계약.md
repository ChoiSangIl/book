# 다른 개발자의 코드 계약
## 자신의 코드와 다른 개발자의 코드

> 자신이 작성한 코드를 다른 개발자가 작업해야 하고, 반대로 다른 개발자가 작업한 코드를 자신이 작업해야 할 때도 있다.

- 코드를 작성할 때 고려하면 유용한 것
  - 자신에게 명백하다고 다른 사람에게 명백한 것은 아니다.
  - 다른 개발자는 무의식중에 여러분의 코드를 망가뜨릴 수 있다.
  - 시간이 지남에 따라 자신의 코드를 기억하지 못한다.

### 자신에게 명백하다고 다른 사람에게 명백한 것은 아니다.
> 이것을 항상 고려하고 코드가 어떻게 사용되어야 하는지, 무엇을 하는지, 그리고 왜 그 일을 하고 있는지 설명하는 것이 유용하다. 이것이 주석문을 많이 작성해야 한다는 의미는 아니다
  > 코드를 이해하기 쉽고 코드 자체로 설명이 되게 하는 것이 좋은 방법이다.

"코드와 가장 가까이 있는 개발자가 보기에는 당연한 것들이 항상 다름 사람에게는 명백한 것은 아니다. 코드리뷰 문화를 경험했을 때 많이 들었던 생각인거 같다. 어떻게 하면 좀더 쉽게 코드를 이해하게 만들 수 있을까? 질문은 간단하지만 쉽지 않은 문제인거 같다. 항상 연습하자! "

### 시간이 지나면 자신의 코드를 기억하지 못한다.
> 배경지식이 거의 없거나 전혀 없는 사람에게도 자신의 코드가 이해하기 쉬어야 하고, 잘 작동하던 코드에 버그가 발생하는 것이 어려워야 한다. 이렇게 하는 것은 다른 사람에게 호의를 베푸는 것이기도 하지만 미래의 자신에게도 유익한 일이다.

"나를 위해 좋은 코드를 작성하자."

## 여러분이 작성한 코드의 사용법을 다른 사람들은 어떻게 아는가?

- 다른 개발자가 코드의 사용법을 파악하기 위해 알아야 하는 것
  - 여러 상황에서 어떤 함수를 호출해야 하는지
  - 클래스가 무엇을 나타내고 언제 사용되어야 하는지
  - 어떤 값을 인수로 사용해야 하는지
  - 코드가 수행하는 동작이 무엇인지
  - 어떤 값을 반환 하는지

- 다른 개발자가 코드 사용법을 알기 위해 할 수 있는 일
  - 함수, 클래스, 열거형 등의 이름을 살펴본다.
  - 함수와 생성자의 매개변수 유형 또는 반환값의 유형 같은 데이터 유형을 살펴본다.
  - 함수/클래스 수준의 문서나 주석문을 읽어본다.
  - 직접 와서 묻거나 채팅/이메일을 통해 문의한다.
  - 여러분이 작성한 삼수와 클래스의 자세한 구현 코드를 읽는다.

### 이름 확인
> 패키지, 클래스, 함수의 이름을 책의 목차라고 생각할 수 있다. 이 이름들을 살펴보는 것은 하위 문제를 해결할 코드를 찾기 위한 편리하고 빠른 방법이다. 
  > 자신의 코드를 다른 개발자가 어떻게 사용해야 하는지에 대해 가장 잘 전달할 수 있는 방법 중 하나는 이름을 잘 짓는 것이다.

"당연하지만 가장 어려운 일 이름 짓기.."

### 데이터 유형 확인

### 문서 읽기
- 단점
  - 다른 개발자가 문서를 읽을 것이라는 보장이 없으며 실제로 읽지 않을 때가 많다
  - 읽더라도 잘못 해석할 수 있다.
  - 문서의 업데이트가 제대로 안될 수 있다.

### 직접 물어보기
"가장 쉬운일... 하지만 사람의 기억이란.."

### 코드를 살펴보는 것
> 가장 확힌한 담을 얻을 수 있는 방법은 코드의 자세한 구현 세부사항을 살펴보는 것이다. 하지만 이 접근 법은 실용적이지도 않고 코드의 양이 많으면 효과를 얻기 힘들다.

"가장 확실한 방법이지만 알아야 하는 세부사항이 많을수록 개발하는데 시간이 많이 걸리는거 같다. 실제로 추가한 코드는 몇줄 안되지만 해당 코드를 추가하기 위해 시간을 많이 할애 했던 기억이 떠올랐다. 적당한 추상화가 되어 있던 상황에서였다면 좀 더 빨리 할 수 있었을까?"

## 코드 계약
> 계약에 의한 프로그래밍(programming by contract), 계약에 의한 디자인 (design by contract) 서로 다른 코드간의 상호작용을 마치 계약 처럼 생각한다.

### 계약의 세부 조항
> 실제 생활에서 계약은 아주 명백한 항목과 깨알같이 작은 글씨로 되어 있어 꼼꼼하게 읽지 않는 한 분명하게 알 수 없는 항목이 섞여 있기 마련이다.

- 계약의 명확한 부분
  - 함수와 클래스 이름
  - 인자 유형
  - 반환 유형
  - 검사 예외(checked exception)

- 세부 조항
  - 주석문과 문서
  - 비검사 예외(unchecked exception)

"결국에 하고 싶은말 세부사항에 의존하지 않게 함수와 클래스 명 인자 반환 유형을 다른 개발자가 명확하게 이해할 수 있게 만들어라 인가.. 말은 쉽지만 가장 어려운 일"  

### 세부 조항에 너무 의존하지 말라
> 주석문과 문서의 형태로 된 세부 조항은 간과하고 넘어갈 때가 많기 때문에 다른 개발자들이 해당 코드를 사용할 때 모든 세부 조항을 다 알지 못할 가능성이 크다. 
> 세부 조항에 너무 많이 의존하면 오용하기 쉬운 취약한 코드가 도리 가능성이 크고, 예상과 다르게 동작하기 쉽다.

### 세부 조항을 제거 하는 방법
"정적 팩토리 함수를 이용해서 클래스 생성에서 발생할 수 있는 문제를 해결하는 예제로 설명하고 있다. 또한 가변성과 불변성에 대해 언급한다. 하지만 너무 간단히 언급하고 넘어가는거 같다."

## 느낀점
"코드를 만든다는 것은 계약을 만드는 것과 같다. 우리가 계약을 할때 세부 조항을 잘 안보는 것 처럼 다른 개발자(미래의 나) 조차도 그럴 가능성이 크다.   
코드에서 명백하게 들어날 수 있는 부분에서 다른 개발자가 더 쉽게 이해할 수 있게 하고 오용할 수 없게 처리해야 한다."

